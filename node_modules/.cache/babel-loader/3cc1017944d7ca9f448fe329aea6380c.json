{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Andrew Krause/react-car-inv-6/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Andrew Krause/react-car-inv-6/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Andrew Krause/react-car-inv-6/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _objectSpread from\"C:/Users/Andrew Krause/react-car-inv-6/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from'react';import firebase from'firebase/app';import{useAuth,AuthCheck}from'reactfire';import'firebase/auth';import{Input}from'../SharedComponents/Input';import{Container,Button,makeStyles,Typography,Snackbar}from'@material-ui/core';import{withRouter}from\"react-router-dom\";import MuiAlert from'@material-ui/lab/Alert';import{Navbar}from'../../components';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Alert=function Alert(props){return/*#__PURE__*/_jsx(MuiAlert,_objectSpread({elevation:6,variant:\"filled\"},props));};var useStyles=makeStyles({googleButton:{backgroundColor:'rgb(66,133,244)',marginTop:'2em',padding:'0',color:'white',height:'50px',width:'240px',border:'none',textAlign:'center',boxShadow:'rgb(0 0 0 / 25%) 0px 2px 4px 0px',fontSize:'16px',lineHeight:'48px',display:'block',borderRadius:'1px',fontFamily:'Roboto, arial, sans-serif',cursor:'pointer'},googleLogo:{width:'48px',height:'48px',display:'block'},typographyStyle:{fontFamily:'Roboto, arial, sans-serif;',textAlign:'center',fontSize:'2em'},containerStyle:{marginTop:'2em'},snackBar:{color:'white',backgroundColor:'#4caf50'}});export var SignIn=withRouter(function(props){var auth=useAuth();var classes=useStyles();var history=props.history;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),open=_useState2[0],setOpen=_useState2[1];var handleSnackOpen=function handleSnackOpen(){setOpen(true);};var handleSnackClose=function handleSnackClose(event,reason){if(reason==='clickaway'){return;}setOpen(false);history.push('/');};var sign_in=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return auth.signInWithPopup(new firebase.auth.GoogleAuthProvider());case 2:response=_context.sent;if(response.user){handleSnackOpen();}case 4:case\"end\":return _context.stop();}},_callee);}));return function sign_in(){return _ref.apply(this,arguments);};}();var sign_out=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.next=2;return auth.signOut();case 2:case\"end\":return _context2.stop();}},_callee2);}));return function sign_out(){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsxs(Container,{maxWidth:\"sm\",className:classes.containerStyle,children:[/*#__PURE__*/_jsx(Typography,{className:classes.typographyStyle,children:\"Sign In Below\"}),/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",children:\"Email\"}),/*#__PURE__*/_jsx(Input,{name:\"email\",placeholder:\"Place Email Here\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"Password\"}),/*#__PURE__*/_jsx(Input,{name:\"password\",placeholder:\"Place Password Here\"})]}),/*#__PURE__*/_jsx(Button,{type:\"submit\",variant:\"contained\",color:\"primary\",children:\"Submit\"})]}),/*#__PURE__*/_jsx(AuthCheck,{fallback:/*#__PURE__*/_jsx(Button,{className:classes.googleButton,onClick:sign_in,children:\"Sign In With Google\"}),children:/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"secondary\",onClick:sign_out,children:\"Sign Out\"})}),/*#__PURE__*/_jsx(Snackbar,{message:'Success',open:open,autoHideDuration:6000,onClose:handleSnackClose,children:/*#__PURE__*/_jsx(Alert,{onClose:handleSnackClose,severity:\"success\",children:\"Successful Sign In - Redirect in 6 seconds\"})})]})]});});","map":{"version":3,"names":["React","useState","firebase","useAuth","AuthCheck","Input","Container","Button","makeStyles","Typography","Snackbar","withRouter","MuiAlert","Navbar","Alert","props","useStyles","googleButton","backgroundColor","marginTop","padding","color","height","width","border","textAlign","boxShadow","fontSize","lineHeight","display","borderRadius","fontFamily","cursor","googleLogo","typographyStyle","containerStyle","snackBar","SignIn","auth","classes","history","open","setOpen","handleSnackOpen","handleSnackClose","event","reason","push","sign_in","signInWithPopup","GoogleAuthProvider","response","user","sign_out","signOut"],"sources":["C:/Users/Andrew Krause/react-car-inv-6/src/components/SignIn/SignIn.tsx"],"sourcesContent":["import React, { useState } from 'react'\r\nimport firebase from 'firebase/app';\r\nimport { useAuth, AuthCheck } from 'reactfire';\r\nimport 'firebase/auth';\r\nimport { Input } from '../SharedComponents/Input';\r\nimport { Container, Button, makeStyles, Typography, Snackbar,  } from '@material-ui/core';\r\nimport { RouteComponentProps, withRouter } from \"react-router-dom\";\r\nimport MuiAlert, { AlertProps } from '@material-ui/lab/Alert';\r\nimport { Navbar } from '../../components'\r\n\r\nconst Alert = (props:AlertProps) => {\r\n    return <MuiAlert elevation={6} variant='filled' {...props} />;\r\n}\r\n\r\n\r\nconst useStyles = makeStyles({\r\n    googleButton:{\r\n        backgroundColor: 'rgb(66,133,244)',\r\n        marginTop: '2em',\r\n        padding: '0',\r\n        color: 'white',\r\n        height: '50px',\r\n        width: '240px',\r\n        border: 'none',\r\n        textAlign: 'center',\r\n        boxShadow: 'rgb(0 0 0 / 25%) 0px 2px 4px 0px',\r\n        fontSize: '16px',\r\n        lineHeight: '48px',\r\n        display: 'block',\r\n        borderRadius: '1px',\r\n        fontFamily: 'Roboto, arial, sans-serif',\r\n        cursor: 'pointer'\r\n    },\r\n    googleLogo:{\r\n        width: '48px',\r\n        height: '48px',\r\n        display: 'block'\r\n    },\r\n    typographyStyle: {\r\n        fontFamily: 'Roboto, arial, sans-serif;',\r\n        textAlign: 'center',\r\n        fontSize: '2em'\r\n    },\r\n    containerStyle: {\r\n        marginTop: '2em'\r\n    },\r\n    snackBar: {\r\n        color: 'white',\r\n        backgroundColor: '#4caf50'\r\n    }\r\n\r\n});\r\n\r\ninterface SignInProps{\r\n    history: RouteComponentProps[\"history\"];\r\n    location: RouteComponentProps['location'];\r\n    match: RouteComponentProps['match'];\r\n  }\r\n\r\nexport const SignIn = withRouter( (props:SignInProps) => {\r\n\r\n    const auth = useAuth();\r\n    const classes = useStyles();\r\n    const { history } = props;\r\n    const [open, setOpen] = useState(false);\r\n\r\n    const handleSnackOpen = () => {\r\n        setOpen(true)\r\n    };\r\n\r\n    const handleSnackClose = (event?: React.SyntheticEvent, reason?:string) => {\r\n        if(reason === 'clickaway'){\r\n            return;\r\n        }\r\n\r\n        setOpen(false);\r\n        history.push('/')\r\n    }\r\n\r\n    const sign_in = async () => {\r\n        const response = await auth.signInWithPopup( new firebase.auth.GoogleAuthProvider());\r\n        if(response.user){\r\n            handleSnackOpen();\r\n        }\r\n    };\r\n\r\n    const sign_out = async () => {\r\n        await auth.signOut();\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <Navbar />\r\n            <Container maxWidth = 'sm' className={classes.containerStyle}>\r\n                <Typography className={classes.typographyStyle}>Sign In Below</Typography>\r\n                <form>\r\n                    <div>\r\n                        <label htmlFor=\"email\">Email</label>\r\n                        <Input name=\"email\" placeholder=\"Place Email Here\" />\r\n                    </div>\r\n                    <div>\r\n                        <label htmlFor=\"password\">Password</label>\r\n                        <Input name=\"password\" placeholder=\"Place Password Here\" />\r\n                    </div>\r\n                    <Button type=\"submit\" variant='contained' color='primary'>Submit</Button>\r\n                </form>\r\n\r\n                <AuthCheck fallback={\r\n                    <Button className={classes.googleButton} onClick={sign_in}>Sign In With Google</Button>\r\n                }>\r\n                    <Button variant='contained' color='secondary' onClick={sign_out}>Sign Out</Button>\r\n                </AuthCheck>\r\n                <Snackbar message={'Success'} open={open} autoHideDuration={6000} onClose={handleSnackClose}>\r\n                    <Alert onClose={handleSnackClose} severity=\"success\">\r\n                        Successful Sign In - Redirect in 6 seconds\r\n                    </Alert>\r\n                </Snackbar>\r\n            </Container>\r\n        </div>\r\n    )\r\n});\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}