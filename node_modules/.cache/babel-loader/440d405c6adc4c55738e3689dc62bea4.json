{"ast":null,"code":"import { createOperatorSubscriber } from './OperatorSubscriber';\nexport function scanInternals(accumulator, seed, hasSeed, emitOnNext, emitBeforeComplete) {\n  return function (source, subscriber) {\n    var hasState = hasSeed;\n    var state = seed;\n    var index = 0;\n    source.subscribe(createOperatorSubscriber(subscriber, function (value) {\n      var i = index++;\n      state = hasState ? accumulator(state, value, i) : (hasState = true, value);\n      emitOnNext && subscriber.next(state);\n    }, emitBeforeComplete && function () {\n      hasState && subscriber.next(state);\n      subscriber.complete();\n    }));\n  };\n}","map":{"version":3,"sources":["../../../../src/internal/operators/scanInternals.ts"],"names":[],"mappings":"AAEA,SAAS,wBAAwB,QAAQ,sBAAsB;AAW/D,OAAM,SAAU,aAAa,CAC3B,WAA2D,EAC3D,IAAO,EACP,OAAgB,EAChB,UAAmB,EACnB,kBAAqC,EAAA;EAErC,OAAO,UAAC,MAAqB,EAAE,UAA2B,EAAA;IAIxD,IAAI,QAAQ,GAAG,OAAO;IAItB,IAAI,KAAK,GAAQ,IAAI;IAErB,IAAI,KAAK,GAAG,CAAC;IAGb,MAAM,CAAC,SAAS,CACd,wBAAwB,CACtB,UAAU,EACV,UAAC,KAAK,EAAA;MAEJ,IAAM,CAAC,GAAG,KAAK,EAAE;MAEjB,KAAK,GAAG,QAAQ,GAEZ,WAAW,CAAC,KAAK,EAAE,KAAK,EAAE,CAAC,CAAC,IAI1B,QAAQ,GAAG,IAAI,EAAG,KAAK,CAAC;MAG9B,UAAU,IAAI,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC;IACtC,CAAC,EAGD,kBAAkB,IACf,YAAA;MACC,QAAQ,IAAI,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC;MAClC,UAAU,CAAC,QAAQ,EAAE;IACvB,CAAE,CACL,CACF;EACH,CAAC;AACH","sourceRoot":"","sourcesContent":["import { createOperatorSubscriber } from './OperatorSubscriber';\nexport function scanInternals(accumulator, seed, hasSeed, emitOnNext, emitBeforeComplete) {\n    return function (source, subscriber) {\n        var hasState = hasSeed;\n        var state = seed;\n        var index = 0;\n        source.subscribe(createOperatorSubscriber(subscriber, function (value) {\n            var i = index++;\n            state = hasState\n                ?\n                    accumulator(state, value, i)\n                :\n                    ((hasState = true), value);\n            emitOnNext && subscriber.next(state);\n        }, emitBeforeComplete &&\n            (function () {\n                hasState && subscriber.next(state);\n                subscriber.complete();\n            })));\n    };\n}\n//# sourceMappingURL=scanInternals.js.map"]},"metadata":{},"sourceType":"module"}