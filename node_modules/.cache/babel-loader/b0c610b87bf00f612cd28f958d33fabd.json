{"ast":null,"code":"import { __extends } from \"tslib\";\nimport { Scheduler } from '../Scheduler';\nvar AsyncScheduler = function (_super) {\n  __extends(AsyncScheduler, _super);\n  function AsyncScheduler(SchedulerAction, now) {\n    if (now === void 0) {\n      now = Scheduler.now;\n    }\n    var _this = _super.call(this, SchedulerAction, now) || this;\n    _this.actions = [];\n    _this._active = false;\n    return _this;\n  }\n  AsyncScheduler.prototype.flush = function (action) {\n    var actions = this.actions;\n    if (this._active) {\n      actions.push(action);\n      return;\n    }\n    var error;\n    this._active = true;\n    do {\n      if (error = action.execute(action.state, action.delay)) {\n        break;\n      }\n    } while (action = actions.shift());\n    this._active = false;\n    if (error) {\n      while (action = actions.shift()) {\n        action.unsubscribe();\n      }\n      throw error;\n    }\n  };\n  return AsyncScheduler;\n}(Scheduler);\nexport { AsyncScheduler };","map":{"version":3,"sources":["../../../../src/internal/scheduler/AsyncScheduler.ts"],"names":[],"mappings":";AAAA,SAAS,SAAS,QAAQ,cAAc;AAKxC,IAAA,cAAA,GAAA,UAAA,MAAA,EAAA;EAAoC,SAAA,CAAA,cAAA,EAAA,MAAA,CAAA;EAkBlC,SAAA,cAAA,CAAY,eAA8B,EAAE,GAAiC,EAAA;IAAjC,IAAA,GAAA,KAAA,KAAA,CAAA,EAAA;MAAA,GAAA,GAAoB,SAAS,CAAC,GAAG;IAAA;IAA7E,IAAA,KAAA,GACE,MAAA,CAAA,IAAA,CAAA,IAAA,EAAM,eAAe,EAAE,GAAG,CAAC,IAAA,IAAA;IAlBtB,KAAA,CAAA,OAAO,GAA4B,EAAE;IAOrC,KAAA,CAAA,OAAO,GAAY,KAAK;;EAY/B;EAEO,cAAA,CAAA,SAAA,CAAA,KAAK,GAAZ,UAAa,MAAwB,EAAA;IAC3B,IAAA,OAAO,GAAK,IAAI,CAAA,OAAT;IAEf,IAAI,IAAI,CAAC,OAAO,EAAE;MAChB,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC;MACpB;IACD;IAED,IAAI,KAAU;IACd,IAAI,CAAC,OAAO,GAAG,IAAI;IAEnB,GAAG;MACD,IAAK,KAAK,GAAG,MAAM,CAAC,OAAO,CAAC,MAAM,CAAC,KAAK,EAAE,MAAM,CAAC,KAAK,CAAC,EAAG;QACxD;MACD;KACF,QAAS,MAAM,GAAG,OAAO,CAAC,KAAK,EAAG;IAEnC,IAAI,CAAC,OAAO,GAAG,KAAK;IAEpB,IAAI,KAAK,EAAE;MACT,OAAQ,MAAM,GAAG,OAAO,CAAC,KAAK,EAAG,EAAG;QAClC,MAAM,CAAC,WAAW,EAAE;MACrB;MACD,MAAM,KAAK;IACZ;EACH,CAAC;EACH,OAAA,cAAC;AAAD,CAAC,CAhDmC,SAAS,CAAA","sourceRoot":"","sourcesContent":["import { __extends } from \"tslib\";\nimport { Scheduler } from '../Scheduler';\nvar AsyncScheduler = (function (_super) {\n    __extends(AsyncScheduler, _super);\n    function AsyncScheduler(SchedulerAction, now) {\n        if (now === void 0) { now = Scheduler.now; }\n        var _this = _super.call(this, SchedulerAction, now) || this;\n        _this.actions = [];\n        _this._active = false;\n        return _this;\n    }\n    AsyncScheduler.prototype.flush = function (action) {\n        var actions = this.actions;\n        if (this._active) {\n            actions.push(action);\n            return;\n        }\n        var error;\n        this._active = true;\n        do {\n            if ((error = action.execute(action.state, action.delay))) {\n                break;\n            }\n        } while ((action = actions.shift()));\n        this._active = false;\n        if (error) {\n            while ((action = actions.shift())) {\n                action.unsubscribe();\n            }\n            throw error;\n        }\n    };\n    return AsyncScheduler;\n}(Scheduler));\nexport { AsyncScheduler };\n//# sourceMappingURL=AsyncScheduler.js.map"]},"metadata":{},"sourceType":"module"}