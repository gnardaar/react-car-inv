{"ast":null,"code":"import _slicedToArray from\"C:/Users/Andrew Krause/react-car-inv-6/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";// Need to figure out params and selection issues\nimport{useState}from'react';import{DataGrid}from'@material-ui/data-grid';import{useGetData}from'../../custom-hooks';import{server_calls}from'../../api';import{Button,Dialog,DialogActions,DialogContent,DialogContentText,DialogTitle}from'@material-ui/core';import{CarForm}from'../CarForm';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var columns=[{field:'id',headerName:'ID',width:90,hide:true},{field:'make',headerName:'Make',flex:1},{field:'model',headerName:'Model',flex:1},{field:'condition',headerName:'Car Condition',flex:2},{field:'year',headerName:'Year',flex:1}];export var DataTable=function DataTable(){var _useGetData=useGetData(),carData=_useGetData.carData,getData=_useGetData.getData;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),open=_useState2[0],setOpen=_useState2[1];var _useState3=useState({data:{}}),_useState4=_slicedToArray(_useState3,2),gridData=_useState4[0],setData=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),selectionModel=_useState6[0],setSelectionModel=_useState6[1];var handleOpen=function handleOpen(){setOpen(true);};var handleClose=function handleClose(){setOpen(false);};var deleteData=function deleteData(){server_calls.delete(selectionModel);// console.log(gridData.data.id);\ngetData();setTimeout(function(){window.location.reload();},1000);};console.log(gridData.data.id);console.log(\"testing for data \".concat(carData));return/*#__PURE__*/_jsxs(\"div\",{style:{height:400,width:'100%'},children:[/*#__PURE__*/_jsx(\"h2\",{children:\"My Cars\"}),/*#__PURE__*/_jsx(DataGrid,{rows:carData,columns:columns,pageSize:5,checkboxSelection:true,onSelectionModelChange:function onSelectionModelChange(item){setSelectionModel(item);}}),/*#__PURE__*/_jsx(Button,{onClick:handleOpen,children:\"Update\"}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"secondary\",onClick:deleteData,children:\"Delete\"}),/*#__PURE__*/_jsxs(Dialog,{open:open,onClose:handleClose,\"aria-labelledby\":\"form-dialog-title\",children:[/*#__PURE__*/_jsxs(DialogTitle,{id:\"form-dialog-title\",children:[\"Update Car \",selectionModel]}),/*#__PURE__*/_jsxs(DialogContent,{children:[/*#__PURE__*/_jsx(DialogContentText,{children:\"Update Car\"}),/*#__PURE__*/_jsx(CarForm,{id:selectionModel})]}),/*#__PURE__*/_jsxs(DialogActions,{children:[/*#__PURE__*/_jsx(Button,{onClick:handleClose,color:\"primary\",children:\"Cancel\"}),/*#__PURE__*/_jsx(Button,{onClick:handleClose,color:\"primary\",children:\"Done\"})]})]})]});};","map":{"version":3,"names":["useState","DataGrid","useGetData","server_calls","Button","Dialog","DialogActions","DialogContent","DialogContentText","DialogTitle","CarForm","columns","field","headerName","width","hide","flex","DataTable","carData","getData","open","setOpen","data","gridData","setData","selectionModel","setSelectionModel","handleOpen","handleClose","deleteData","delete","setTimeout","window","location","reload","console","log","id","height","item"],"sources":["C:/Users/Andrew Krause/react-car-inv-6/src/components/DataTable/DataTable.tsx"],"sourcesContent":["// Need to figure out params and selection issues\r\n\r\nimport { useState } from 'react';\r\nimport { DataGrid, GridColDef } from '@material-ui/data-grid';\r\nimport { useGetData } from '../../custom-hooks';\r\nimport { server_calls } from '../../api';\r\nimport { Button, Dialog,\r\n    DialogActions,\r\n    DialogContent,\r\n    DialogContentText,\r\n    DialogTitle } from '@material-ui/core';\r\nimport { CarForm } from '../CarForm';\r\n\r\n\r\n\r\n\r\nconst columns: GridColDef[] = [\r\n    { field: 'id', headerName: 'ID', width: 90, hide: true },\r\n    { field: 'make', headerName: 'Make', flex: 1 },\r\n    { field: 'model', headerName: 'Model', flex: 1 },\r\n    { field: 'condition', headerName: 'Car Condition', flex: 2 },\r\n    { field: 'year', headerName: 'Year', flex: 1 },\r\n];\r\n\r\ninterface gridData {\r\n    data: {\r\n        id?:string\r\n    }\r\n}\r\n\r\nexport const DataTable = () => {\r\n\r\n    let { carData, getData } = useGetData();\r\n    let [open, setOpen] = useState(false);\r\n    let [gridData, setData] = useState<gridData>({data:{}});\r\n    const [selectionModel, setSelectionModel] = useState<any>([]);\r\n    \r\n\r\n    let handleOpen = () => {\r\n        setOpen(true)\r\n    };\r\n    let handleClose = () => {\r\n        setOpen(false)\r\n    };\r\n\r\n    let deleteData = () => {\r\n        server_calls.delete(selectionModel);\r\n        // console.log(gridData.data.id);\r\n        getData();\r\n        setTimeout( () => { window.location.reload(); }, 1000)\r\n    }\r\n\r\n    console.log(gridData.data.id!);\r\n    console.log(`testing for data ${carData}`)\r\n\r\n\r\n    return (\r\n        <div style={{ height: 400, width: '100%' }}>\r\n            <h2>My Cars</h2>\r\n\r\n        <DataGrid rows={ carData } columns={ columns } pageSize={ 5 } checkboxSelection={true} \r\n        onSelectionModelChange={ (item) => {\r\n            setSelectionModel(item)\r\n          }}\r\n        />\r\n\r\n        <Button onClick={handleOpen}>Update</Button>\r\n        <Button variant=\"contained\" color=\"secondary\" onClick={deleteData}>Delete</Button>\r\n\r\n        {/* Dialog pop-up */}\r\n        <Dialog open={open} onClose={handleClose} aria-labelledby=\"form-dialog-title\">\r\n            <DialogTitle id=\"form-dialog-title\">Update Car {selectionModel}</DialogTitle>\r\n            <DialogContent>\r\n                <DialogContentText>Update Car</DialogContentText>\r\n                    <CarForm id={selectionModel!}/>\r\n            </DialogContent>\r\n            <DialogActions>\r\n                <Button onClick={handleClose} color=\"primary\">Cancel</Button>\r\n                <Button onClick={handleClose} color=\"primary\">Done</Button>\r\n            </DialogActions>\r\n        </Dialog>\r\n            \r\n        </div>\r\n    )\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}